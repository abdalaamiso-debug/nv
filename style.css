/* style.css
   Design professionnel : vert foncé, blanc, or
   Responsive, utilise Flexbox et Grid. Animations simples.
*/

/* Importer une police cool */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Poppins:wght@400;500;600;700&display=swap');

:root{
  --green-dark:#0b4d32;
  --gold:#c79a2b;
  --white:#ffffff;
  --muted:#6b6b6b;
  --container-max:1200px;
  --radius:10px;
}

/* Reset minimal */
*{box-sizing:border-box;margin:0;padding:0}
html{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;line-height:1.4;color:var(--green-dark);scroll-behavior:smooth}
/* Prévention du débordement horizontal sur mobile */
body{background:var(--white);-webkit-font-smoothing:antialiased;overflow-x:hidden}
.container{width:90%;max-width:var(--container-max);margin:0 auto}

/* Header */
.site-header{background:linear-gradient(180deg,var(--white),rgba(255,255,255,0.95));position:sticky;top:0;z-index:50;border-bottom:1px solid #eee}
.header-inner{display:flex;align-items:center;justify-content:space-between;padding:18px 0}
.logo-img{height:40px;width:auto;margin-right:12px;display:block}
/* Logo entrance: vient de la gauche */
.logo-img{opacity:0;transform:translateX(-18px);transition:opacity .45s cubic-bezier(.2,.8,.2,1),transform .45s cubic-bezier(.2,.8,.2,1)}
.header-inner.header-animated .logo-img{opacity:1;transform:none;transition-delay:520ms}
.logo{font-weight:700;color:var(--green-dark);font-size:1.1rem}
.main-nav{display:flex;gap:20px}
/* Nav links animated on page load (PowerPoint-like entrance) */
.main-nav .nav-link{color:var(--green-dark);text-decoration:none;font-weight:600;padding:8px;border-radius:6px;transition:background .2s, color .2s;position:relative}
.main-nav .nav-link::after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:3px;background:var(--gold);transition:width .35s ease}
.main-nav .nav-link{opacity:0;transform:translateY(-8px);transition:opacity .45s cubic-bezier(.2,.8,.2,1),transform .45s cubic-bezier(.2,.8,.2,1)}
.main-nav.nav-animated .nav-link{opacity:1;transform:none}
.main-nav .nav-link:hover::after{width:100%}
.main-nav .nav-link:hover{background:rgba(11,77,50,0.06)}

/* Header actions (inscrire) entrance animation */
.header-actions .btn{opacity:0;transform:translateY(-8px);transition:opacity .45s cubic-bezier(.2,.8,.2,1),transform .45s cubic-bezier(.2,.8,.2,1)}
.header-inner.header-animated .header-actions .btn{opacity:1;transform:none}
.header-actions{display:flex;align-items:center;gap:12px}
.btn{display:inline-block;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:600;transition:transform .12s ease, box-shadow .12s}
.btn-primary{background:var(--green-dark);color:var(--white)}
.btn-secondary{background:var(--gold);color:var(--green-dark)}
.btn-outline{border:2px solid var(--green-dark);color:var(--green-dark);background:transparent}
.btn-ghost{background:transparent;color:var(--green-dark);border:1px solid rgba(11,77,50,0.06)}
.btn:hover{transform:translateY(-2px)}

.burger{display:none;background:none;border:0;padding:8px;cursor:pointer}
.burger span{display:block;width:6px;height:6px;background:var(--green-dark);margin:6px 0;transition:transform .2s,opacity .2s;border-radius:50%;border:2px solid var(--green-dark)}

/* Hero */
.hero{padding:56px 0;background:linear-gradient(135deg, rgba(11,77,50,0.95), rgba(11,77,50,0.85));color:var(--white)}
.hero-inner{display:flex;gap:30px;align-items:center}
.hero-content{flex:1;max-width:760px}
.hero h1{
  font-size:2rem;
  margin-bottom:10px;
  font-family:'Playfair Display',serif;
  font-weight:900;
  background:linear-gradient(90deg, #ffffff 0%, #ffcc00 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  letter-spacing:-1px;
  animation:slideInHero .8s ease-out;
}
.hero .lead{
  opacity:1;
  margin-bottom:18px;
  font-size:1.1rem;
  font-family:'Poppins',sans-serif;
  font-weight:500;
  background:linear-gradient(90deg, #ffffff 0%, #ffdd00 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  animation:slideInHero .8s ease-out .2s both;
}

@keyframes slideInHero{
  from{
    opacity:0;
    transform:translateY(-30px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}
.hero-cta .btn{margin-right:10px}
.hero-cta .btn-primary{background:var(--gold);color:var(--green-dark)}
.hero-cta .btn-ghost{background:var(--gold);color:var(--green-dark);border:none}
.hero-visual{flex:1;aspect-ratio:16/9;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.18);background:linear-gradient(180deg, rgba(199,154,43,0.06), rgba(255,255,255,0.02));position:relative;overflow:hidden}
.hero-visual::after{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 20% 30%, rgba(255,255,255,0.07), transparent 10%),radial-gradient(circle at 80% 70%, rgba(255,255,255,0.04), transparent 12%);pointer-events:none}

/* Carousel styles inside hero */
.carousel{position:relative;width:100%;height:100%;overflow:hidden;border-radius:14px;display:flex;flex-direction:column}
.carousel-track{display:flex;transition:transform .7s ease;will-change:transform;height:100%;width:100%;flex-shrink:0}
.slide{min-width:100%;width:100%;height:100%;object-fit:cover;display:block;flex-shrink:0}

/* If images are missing, provide subtle gradient fallback */
.slide{background:linear-gradient(135deg, var(--gold), rgba(199,154,43,0.8))}

/* Zoom léger au survol pour les 7 images du carousel */
.carousel-track .slide{
  transform-origin:center center;
  transition:transform .45s cubic-bezier(.2,.8,.2,1),filter .35s ease;
  will-change:transform;
}
.carousel-track .slide:hover,
.carousel-track .slide:focus{
  transform:scale(1.06);
  filter:brightness(1.03);
}

/* Carousel dots indicators */
.carousel-dots{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:10}
.carousel-dots .dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.6);cursor:pointer;transition: .3s ease,transform .3s ease}
.carousel-dots .dot.active{background:var(--gold);transform:scale(1.2);box-shadow:0 4px 12px rgba(199,154,43,0.3)}


/* Presentation */
.presentation{
  padding:44px 0;
  position:relative;
  text-justify: justify ;
  background:linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('image/image_b.jpeg') center/cover no-repeat;
  background-attachment:fixed;
  background-size:cover;
}
.presentation::before{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.45);
  backdrop-filter:blur(3px);
  z-index:-1;
}
.presentation .intro{max-width:780px;margin:0 auto 18px;color:var(--white);position:relative;z-index:1;padding:0 20px}
.presentation .intro h2{color:var(--white)}
.presentation .intro p{color:rgba(255,255,255,0.9)}
.mission-cards{display:flex;gap:14px;margin:12px auto 0;max-width:1200px;padding:0 20px;position:relative;z-index:1}
.card{background:var(--white);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,10,0.06);transition:transform .18s ease,box-shadow .18s}
.card:hover{transform:translateY(-6px);box-shadow:0 14px 28px rgba(10,20,10,0.08)}
.mission-cards .card{flex:1}
.mission-cards .card h3{color:var(--green-dark)}

/* Filieres & Grids */
.filieres{padding:36px 0}
.grid{display:grid;gap:18px;margin:0 auto}
.grid-3{grid-template-columns:repeat(3,1fr)}
.feature-card{padding:22px}
/* Designer / professionnel styles pour la section "Nos filières" */
.filieres{padding:56px 0;background:linear-gradient(180deg, rgba(11,77,50,0.03), rgba(199,154,43,0.03));}
.filieres .grid{max-width:980px;margin:0 auto;gap:28px;justify-content:center;grid-auto-rows:1fr}
.grid-3{grid-template-columns:repeat(2,1fr);}
.feature-card{display:flex;flex-direction:column;align-items:flex-start;padding:28px 24px;background:linear-gradient(180deg,#ffffff,#fbfbfb);border-radius:14px;box-shadow:0 10px 30px rgba(10,20,10,0.06);border:1px solid rgba(11,77,50,0.06);position:relative;overflow:hidden;transition:transform .26s ease,box-shadow .26s ease;min-width:300px}
.feature-card::before{content:"";position:absolute;left:0;top:12px;bottom:12px;width:6px;background:var(--gold);border-top-right-radius:6px;border-bottom-right-radius:6px}
.feature-card h3{font-size:1.15rem;margin-bottom:10px;color:var(--green-dark);font-weight:700}
.feature-card p{color:rgba(11,77,50,0.78);line-height:1.55;margin-bottom:14px}
.feature-card .card-link{margin-top:auto;align-self:flex-end;padding:8px 12px;border-radius:10px;background:transparent;color:var(--green-dark);text-decoration:none;font-weight:700;border:2px solid rgba(11,77,50,0.06);transition:background .18s ease,transform .18s ease}
.feature-card:hover{transform:translateY(-8px);box-shadow:0 22px 48px rgba(10,20,10,0.09)}
.feature-card .card-link:hover{background:var(--gold);color:var(--green-dark);transform:translateY(-3px)}

@media (min-width:901px){
  /* Quand il n'y a que deux cartes, garder la grille centrée et large */
  .filieres .grid{grid-template-columns:repeat(2, minmax(320px,420px));}
}

@media (max-width:700px){
  .filieres{padding:28px 12px}
  .grid-3{grid-template-columns:1fr}
  .feature-card{padding:18px}
}
/* Centrer proprement les deux cartes lorsque il n'y a que deux éléments (desktop)
   Utilise :has() pour détecter exactement 2 enfants et applique une grille centrée
   Appliqué uniquement sur écrans larges (min-width:901px) pour "Windows/desktop" */
@media (min-width:901px){
  .grid-3:has(:nth-child(2):last-child){
    justify-content:center;
    grid-template-columns:repeat(2, minmax(320px, 420px));
    gap:28px;
    margin-left:auto;
    margin-right:auto;
  }
}
/* Hover effects for formations gallery (zoom + subtle dark border) */
.formation-card{overflow:hidden;position:relative;cursor:pointer;transition:transform .28s ease,box-shadow .28s ease}
.formation-card img{width:100%;height:auto;display:block;transition:transform .6s cubic-bezier(.2,.8,.2,1),filter .35s ease}
.formation-card::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0) 40%, rgba(0,0,0,0.12) 100%);opacity:0;transition:opacity .35s ease;pointer-events:none}
.formation-card:hover img{transform:scale(1.08)}
.formation-card:hover::after{opacity:1}
.formation-card:hover{box-shadow:0 18px 34px rgba(0,0,0,0.18);transform:translateY(-6px)}
.formation-card .meta{transition:transform .28s ease}
.formation-card:hover .meta{transform:translateY(-6px)}

/* Blue ring on hover: subtle circular border at image edges */
.formation-card::before{
  /* rotating sweep effect: a narrow blue segment rotates across the image */
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  width:220%;
  height:220%;
  transform:translate(-50%,-50%) rotate(0deg);
  border-radius:50%;
  background:conic-gradient(rgba(3,169,244,0) 0deg, rgba(3,169,244,0.95) 18deg, rgba(3,169,244,0) 36deg);
  opacity:0;
  pointer-events:none;
  transition:opacity .28s ease;
  mix-blend-mode:screen;
}
.formation-card:hover::before{
  opacity:1;
  animation:rotateSweep 1.25s linear infinite;
}

@keyframes rotateSweep{
  from{ transform:translate(-50%,-50%) rotate(0deg); }
  to{ transform:translate(-50%,-50%) rotate(360deg); }
}

.card-link{display:inline-block;margin-top:12px;color:var(--green-dark);font-weight:700;text-decoration:none}

/* Actualités */
.actualites{padding:36px 0}
.grid-9{grid-template-columns:repeat(3,1fr)}
.grid-10{grid-template-columns:repeat(3,1fr);gap:18px}
/* Premier élément (featured) centré et plus grand sur desktop */
@media (min-width:901px){
  .grid-10 .news-featured{
    grid-column:1 / -1;
    max-width:850px;
    margin:0 auto;
    margin-bottom:8px;
  }
  .grid-10 .news-featured .news-image-wrapper{height:380px}
}
/* Image-based news cards with professional design */
.news-image-card{display:flex;flex-direction:column;overflow:hidden;border-radius:14px;box-shadow:0 8px 24px rgba(10,20,10,0.08);transition:transform .28s ease,box-shadow .28s ease;background:var(--white)}
.news-image-wrapper{width:100%;height:160px;overflow:hidden;position:relative;flex-shrink:0}
.news-img{width:100%;height:100%;object-fit:cover;object-position:center;display:block;transition:transform .5s cubic-bezier(.2,.8,.2,1);will-change:transform}
.image-top .news-img{
  object-position:50% 15%;
}
.news-image-card:hover .news-img{transform:scale(1.08)}
.news-content{padding:16px 18px;display:flex;flex-direction:column;flex:1}
.news-image-card h3{font-size:1rem;margin-bottom:8px;color:var(--green-dark);font-weight:700;line-height:1.3}
.news-image-card p{font-size:.9rem;color:rgba(11,77,50,0.75);line-height:1.4;margin-bottom:10px;flex:1}
.news-image-card .card-link{align-self:flex-start;color:var(--gold);font-weight:700;text-decoration:none;transition:color .18s ease}
.news-image-card .card-link:hover{color:var(--green-dark)}
.news-image-card:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(10,20,10,0.12)}
.news-card time{display:block;font-size:.85rem;color:var(--muted);margin-bottom:6px}

/* CTA */
.cta{background:linear-gradient(90deg, var(--green-dark), var(--gold));padding:36px 0;color:var(--white);margin-top:18px}
.cta-inner{display:flex;align-items:center;justify-content:space-between;gap:12px}
.cta .muted{color: #f7f7f7;}

/* Footer */
.site-footer{padding:28px 0;background:#f7f7f7;color:var(--green-dark);margin-top:28px}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
.copyright{border-top:1px solid #eee;padding-top:12px;margin-top:12px}

/* Utility */
.muted{color:var(--muted)}

/* Animations on scroll */
.reveal{opacity:0;transform:translateY(18px);transition:opacity .6s ease,transform .6s ease}
.in-view{opacity:1;transform:none}

/* Entrée spécifique des deux départements :
   - .dept-info : vient de la gauche
   - .dept-electro : vient de la droite
   Ces règles s'appliquent sur écrans larges; sur mobile la pile vertical reste inchangée. */
@media (min-width:701px){
  .feature-card.dept-info.reveal{transform:translateX(-36px);opacity:0}
  .feature-card.dept-electro.reveal{transform:translateX(36px);opacity:0}
  .feature-card.dept-info.in-view,
  .feature-card.dept-electro.in-view{transform:none;opacity:1}
}

/* Transitions pour les deux cartes départementales (match logo easing) */
.feature-card.dept-info,
.feature-card.dept-electro{
  transition:opacity .45s cubic-bezier(.2,.8,.2,1), transform .45s cubic-bezier(.2,.8,.2,1);
  will-change:transform,opacity;
}

/* Responsive */
@media (max-width:900px){
  .hero-inner{flex-direction:column}
  .grid-3{grid-template-columns:repeat(2,1fr)}
  .grid-9, .grid-10{grid-template-columns:repeat(2,1fr)}
  .grid-10 .news-featured{max-width:100%!important}
  .mission-cards{flex-direction:column}
}

/* Tablette (max-width: 700px) */
@media (max-width:700px){
  .main-nav{display:none;position:absolute;top:64px;left:0;right:0;background:var(--white);flex-direction:column;padding:12px;border-bottom:1px solid #eee}
  .main-nav.open{display:flex}
  .burger{display:block}
  .grid-3{grid-template-columns:1fr}
  .header-inner{gap:8px}
  .cta-inner{flex-direction:column;align-items:flex-start}
  .hero h1{font-size:1.5rem}
  
  /* Carousel sur tablette: asp-ratio maintenu, hauteur optimisée */
  .hero-visual{aspect-ratio:16/9}
  .carousel-dots .dot{width:10px;height:10px}
  
  /* Presentation background adapted for tablet */
  .presentation{background-attachment:scroll}
}

/* Mobile (max-width: 480px) */
@media (max-width:480px){
  .hero h1{font-size:1.2rem}
  .hero .lead{font-size:1rem}
  .hero-cta{display:flex;flex-direction:column;gap:8px}
  .hero-cta .btn{width:100%;text-align:center}
  
  /* Carousel hauteur réduite mais proportionnel 16:9 */
  .hero-visual{aspect-ratio:16/9;margin-top:16px}
  .carousel-dots .dot{width:8px;height:8px}
  .carousel-dots{bottom:8px}
  
  /* Presentation background adapted for mobile */
  .presentation{background-attachment:scroll;background-size:cover}
  
  /* Single column for news grid on mobile */
  .grid-9, .grid-10{grid-template-columns:1fr}
  .grid-10 .news-featured{max-width:100%!important}
}

/* Small decorative touches */
.socials{display:flex;gap:14px;align-items:center}
.social-link{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:var(--green-dark);color:var(--white);text-decoration:none;transition:background .2s ease,transform .2s ease;font-size:1.1rem}
.social-link:hover{background:var(--gold);color:var(--green-dark);transform:scale(1.1)}
